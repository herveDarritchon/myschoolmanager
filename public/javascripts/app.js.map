{"version":3,"sources":["app/javascripts/app.js","app/javascripts/controllers.js","app/javascripts/services.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/javascripts/app.js","sourcesContent":["var mySchoolManagerApp = angular.module('MySchoolManagerApp', ['ngRoute', 'myschoolmanager.controllers', 'myschoolmanager.services']);\n\n\nmySchoolManagerApp.config(['$routeProvider',\n  function($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: '/partials/home.html',\n        controller: 'MainCtrl'\n      })\n      .when('/afterschoolcare', {\n        templateUrl: '/partials/afterschoolcare.html',\n        controller: 'AfterSchoolCareCtrl'\n      })\n      .when('/administration', {\n        templateUrl: '/partials/famillyAdministration.html',\n        controller: 'FamillyAdministrationCtrl'\n      })\n      .when('/contact', {\n        templateUrl: '/partials/contact.html'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n]);\n\nmySchoolManagerApp.config(function($sceProvider) {\n  // Completely disable SCE to support IE7.\n  $sceProvider.enabled(false);\n});\n","var mySchoolManagerCtrl = angular.module('myschoolmanager.controllers', []);\n\nmySchoolManagerCtrl.controller('AfterSchoolCareCtrl', ['$scope',\n  function($scope) {\n\n   $scope.title = \"After school care page\";\n   $scope.montant = 12.0;\n   $scope.description = \"Nothing yet ! Plenty to comme !!\";\n\n   // $scope.afterSchoolCares = AfterSchoolCareService.getAfterSchoolCares();\n   // $scope.afterSchoolCareSelected = $scope.afterSchoolCares[0];\n\n   // $scope.$watch('afterSchoolCareSelected', function(newValue, oldValue) {\n   //  console.log(\"afterSchoolCareSelecte has chaged from \" + oldValue.title + \" to \" + newValue.title);\n  // });\n\n }]);\n\nmySchoolManagerCtrl.controller('MainCtrl', ['$scope',\n  function($scope) {\n\n   $scope.title = \"My School Manager App\";\n   $scope.message = \"a Web application that helps a Montessori school to run smoothly !\";\n\n }]);\n\nmySchoolManagerCtrl.controller('FamillyAdministrationCtrl', ['$scope',\n  function($scope) {\n\n    $scope.master ={};\n\n    $scope.title = \"Familly administration page\";\n    $scope.message = \"This page is dedicated to the familly administration.\";\n\n    FamillyService.get().success (function(famillies){\n      $scope.famillies = famillies;\n    }).error(function(){\n      $scope.err=\"sorry, something goes wrong ! Impossible to retreive the famillies from the database.\";\n    });\n\n    // Reset the content of the New Familly Form\n    $scope.resetNewFamillyForm=function() {\n      $scope.newFamilly=angular.copy($scope.master);\n    };\n\n    // Reset the content of the Edit Familly Form\n    $scope.resetEditFamillyForm=function() {\n      $scope.selectedFamilly=angular.copy($scope.master);\n    };\n\n\n    $scope.addFamilly = function(newFamilly) {\n      FamillyService.save(newFamilly).success(function(data,status,headers,config){\n        $scope.famillies.push(data);\n        $scope.insertSuccessMessage=\"The familly \" + data.surname + \" has been added.\";\n        $scope.resetNewFamillyForm();\n      }).error(function(data,status,headers,config){\n        $scope.insertErrorMessage=\"Error during familly saving action !.\";\n      });\n    };\n\n    $scope.saveFamilly = function(selectedFamilly,index) {\n      FamillyService.update(selectedFamilly).success(function(data,status,headers,config){\n        $scope.master=angular.copy(data);\n        console.log ('data updated : %j',data);\n        $scope.famillies[index]=angular.copy(data);\n        $scope.insertSuccessMessage=\"The familly \" + data.surname + \" has been edited.\";\n      }).error(function(data,status,headers,config){\n        $scope.insertErrorMessage=\"Error during familly saving action !.\";\n      });\n    };\n\n    $scope.setSelectedFamilly=function(familly,index) {\n      $scope.selectedFamilly=angular.copy(familly);\n      $scope.famillyIndex=index;\n      $scope.master=angular.copy($scope.selectedFamilly);\n    };\n\n  }]);\n","var mySchoolManagerService = angular.module('myschoolmanager.services', ['ngResource']);\n\n  // super simple service\n  // each function returns a promise object\n  mySchoolManagerService.factory('FamillyService', ['$resource',\n    function ($resource) {\n    return $resource('famillies',{}, {\n      query: {\n        method:'GET'\n      }\n    });\n\n\n\n/*\n    {\n      get: function() {\n        return $http.get(\"/api/famillies\");\n        //return [{surname: 'Edison', firstname: 'Thomas'},{surname: 'Tesal', firstname: 'Nikola'}];\n      },\n      save: function(familly) {\n        return $http.post(\"/api/famillies\",familly);\n      },\n      update: function(familly) {\n        return $http.put(\"/api/famillies/\"+familly._id,familly);\n      }\n    };\n*/\n\n  }]);\n"]}