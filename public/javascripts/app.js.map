{"version":3,"sources":["app/javascripts/app.js","app/javascripts/controllers.js","app/javascripts/services.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/javascripts/app.js","sourcesContent":["var mySchoolManagerApp = angular.module('MySchoolManagerApp', ['ngRoute', 'controllers', 'services']);\n\n\nmySchoolManagerApp.config(['$routeProvider',\n  function($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: '/partials/home.html',\n        controller: 'MainCtrl'\n      })\n      .when('/afterschoolcare', {\n        templateUrl: '/partials/afterschoolcare.html',\n        controller: 'AfterSchoolCareCtrl'\n      })\n      .when('/administration', {\n        templateUrl: '/partials/famillyAdministration.html',\n        controller: 'FamillyAdministrationCtrl'\n      })\n      .when('/contact', {\n        templateUrl: '/partials/contact.html'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n]);\n\nmySchoolManagerApp.config(function($sceProvider) {\n  // Completely disable SCE to support IE7.\n  $sceProvider.enabled(false);\n});\n","var mySchoolManagerCtrl = angular.module('controllers', []);\n\nmySchoolManagerCtrl.controller('AfterSchoolCareCtrl', ['$scope', 'AfterSchoolService',\n  function($scope, AfterSchoolService) {\n\n    $scope.message = AfterSchoolService.getMessage;\n    $scope.montant = AfterSchoolService.getAmount;\n    $scope.description = \"Nothing yet ! Plenty to come !!\";\n\n    // $scope.afterSchoolCares = AfterSchoolCareService.getAfterSchoolCares();\n    // $scope.afterSchoolCareSelected = $scope.afterSchoolCares[0];\n\n    // $scope.$watch('afterSchoolCareSelected', function(newValue, oldValue) {\n    //  console.log(\"afterSchoolCareSelecte has chaged from \" + oldValue.title + \" to \" + newValue.title);\n    // });\n\n  }\n]);\n\nmySchoolManagerCtrl.controller('MainCtrl', ['$scope',\n  function($scope) {\n\n    $scope.title = \"My School Manager App\";\n    $scope.message = \"a Web application that helps a Montessori school to run smoothly !\";\n\n  }\n]);\n\nmySchoolManagerCtrl.controller('FamillyAdministrationCtrl', ['$scope', 'Familly',\n  function($scope, Familly) {\n\n    $scope.master = {};\n\n    $scope.title = \"Familly administration page\";\n    $scope.message = \"This page is dedicated to the familly administration.\";\n\n    $scope.famillies = Familly.query();\n    $scope.familly = new Familly();\n\n    $scope.save = function(familly) {\n      if ($scope.familly._id) {\n        console.log('Update Data : %j', familly);\n        Familly.update({\n          _id: $scope.familly._id\n        }, $scope.familly);\n      } else {\n        console.log('Create Data : %j', familly);\n        $scope.familly.$save().then(function(response) {\n          console.log('Response Data : %j', response);\n          $scope.famillies.push(response);\n          $scope.insertSuccessMessage = \"The familly \" + $scope.familly.surname + \" has been added.\";\n          $scope.resetNewFamillyForm();\n        });\n      }\n    };\n\n    // Reset the content of the New Familly Form\n    $scope.resetNewFamillyForm = function() {\n      $scope.newFamilly = angular.copy($scope.master);\n    };\n\n    // Reset the content of the Edit Familly Form\n    $scope.resetEditFamillyForm = function() {\n      $scope.selectedFamilly = angular.copy($scope.master);\n    };\n\n    $scope.setSelectedFamilly = function(familly, index) {\n      $scope.selectedFamilly = angular.copy(familly);\n      $scope.famillyIndex = index;\n      $scope.master = angular.copy($scope.selectedFamilly);\n    };\n\n  }\n]);\n","var mySchoolManagerService = angular.module('services', ['ngResource']);\n\n// super simple service\n// each function returns a promise object\nmySchoolManagerService.factory('AfterSchoolService', [\n\n  function() {\n    return {\n      getMessage: \"After school care page\",\n      getAmount: 14.00\n    }\n  }\n]);\n\nmySchoolManagerService.factory('Familly', ['$resource',\n  function($resource) {\n    var Familly = $resource('/api/famillies/:_id', {}, {\n      update: {\n        method: 'PUT'\n      }\n    });\n\n    return Familly;\n\n  }\n]);\n"]}